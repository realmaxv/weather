(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();const c=document.getElementById("cityInput"),L=document.getElementById("searchButton"),$=document.getElementById("cityName"),I=document.getElementById("countryName"),M=document.getElementById("weatherIcon"),E=document.getElementById("temperature"),H=document.getElementById("localTime"),S=document.getElementById("windSpeed"),B=document.getElementById("cloudiness"),w=document.getElementById("pressure"),T=document.getElementById("humidity"),N=document.getElementById("sunrise"),v=document.getElementById("sunset"),C=document.getElementById("geoCoords"),p=document.getElementById("errorMessage");c.addEventListener("keydown",s=>{s.key==="Enter"&&m(c.value)});L.addEventListener("click",()=>{m(c.value)});const l="79d687152090a1108c1deb50501a57e1";function m(s){fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${s}&appid=${l}`).then(n=>n.json()).then(n=>{const i=n[0].lon,r=n[0].lat;console.log(n),fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${r}&lon=${i}&appid=${l}&units=metric`).then(e=>e.json()).then(e=>{E.innerHTML=`${Math.round(e.main.temp)} Â°C`,M.innerHTML=`<img src="http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png"/>`,$.innerHTML=`${e.name}`,I.innerHTML=`${e.sys.country}`;const t=new Date(e.dt*1e3),o=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0");H.innerHTML=`<p>LocalTime <span>${o}:${a}</span></p>`,S.innerHTML=`<p>WindSpeed <span>${e.wind.speed}</span></p>`,B.innerHTML=`<p>Cloudiness <span>${e.clouds.all} %</span></p>`,w.innerHTML=`<p>Pressure <span>${e.main.pressure} hpa</span></p>`,T.innerHTML=`<p>Humidity <span>${e.main.humidity} %</span></p>`,C.innerHTML=`<p>GeoCoords <span>${e.coord.lon}, ${e.coord.lat}</span></p>`;const u=new Date(e.sys.sunrise*1e3),g=String(u.getHours()).padStart(2,"0"),y=String(u.getMinutes()).padStart(2,"0");N.innerHTML=`<p>Sunrise <span>${g}:${y}</span></p>`;const d=new Date(e.sys.sunset*1e3),f=String(d.getHours()).padStart(2,"0"),h=String(d.getMinutes()).padStart(2,"0");v.innerHTML=`<p>Sunset <span>${f}:${h}</span></p>`})}).catch(n=>console.log(n)),s===""?p.innerHTML="<p>City not found</p>":p.style.display="none"}
